# Thread Sync 线程同步
在以下两种基本情况 下，线程之间需要相互通信 
1. 需要让多个线程同时访问一下共享资源，同时不能破坏资源的完整性
2. 一个线程需要通知其他线程某项任务已经完。
3. 


用户态线程同步
- volatile：强制从内存中读取。
- 原子访问：Interlocked系统函数
- 关键段CreticalSection

内核对象线程同步
- 事件Event
- 信号量Semaphore
- 互斥量Mutex


表： 同步机制的性能比较

|线程\微秒|Volatile读取|Volatile写入|Interlocked递增|关键段|SRWLock共享模块|SRWLock独占模式|互斥量|
|:--|:--|:--|:--|:--|:--|:--|:--|
|1|8|8|35|66|66|67|1060|
|2|8|76|153|268|134|148|11082|
|4|9|145|361|768|244|307|23785|

## InterLocked
